---
title: "Discussion5_Summarizing Dynamic Model Output"
format: revealjs
theme: solarized
resources: ["img/"]
css: ["slides.css"]
editor: visual
---

## Adding Carrying Capacity

## R code with carrying capacity {.scrollable}

```{r exampleode}
library(deSolve)
library(tidyverse)

source(here("R/dexppop_play.R"))

dexppop_play

# create parameter list


# apply solver


# add more meaningful names

```

## Plot

```{r, plotodep}
# plot

```

## Try again with different parameters {.scrollable}

```{r exampleode2}
# same initial condtions


# try again with different parameters



# look at results


# plot


# compare by combining into a single data frame


#both_p <- both %>% gather(key = "model", value = "P", -year)


```

## Plot

```{r, plotb}
# plot

```

## Extracting information from space-time results {.scrollable}

In class we've talking about summarizing results from dynamic models

-   pictures can be hard to interpret

-   summarizing over one of the dimensions (either space or time) can help

-   looking at a single trajectory through time

-   looking at spatial variation for one point in time

-   looking at spatial variation for multiple points in time

## Extracting from our diffusion model {.scrollable}

```{r}
source(here("R/diffusion.R"))

```

# Summarizing Model Output

-   Summarize relative to what you care about

Lets say this was a pollutant injected into a stream...

-   lets say you have a vulnerable habit located 3 spatial units from the injection point

-   lets see what its pollutant exposure looks like.\

```{r one option}
# View(resfast_fixtime$conc)


# graph a single point in space through time
# single column (time)

```

-   what if we were concerned about all locations

```{r all locations}
# plot all trajectories
# add a time column to concentration data frame and transform for plotting


# plot all places at each point in time

```

# Spatial summaries

-   interested in how quickly the pollutant evens out through space

```{r spatial summaries}

# use apply to calculate the spatial variation for each row (e.g for each time point)

# notice its the same as the number of time units (nt) used above

# plot spatial variation through time


# plot coefficient of variation (so standard deviation divided by the mean)

```

## it is helpful to turn the summary into a function that you can apply to the dynamic models output

## In class exercise {.scrollable}

For population model - write a function that summarizes something about the population over time
